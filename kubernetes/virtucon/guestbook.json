{"status":{},"contains_secrets":false,"product_version":"2.9.8.1","spec":{"description":"","resources":{"client_attrs":{"frontend_deployment":{"y":-10.2746713196,"x":661.0097204644},"cd1d9f34-4350-2ab0-61af-58e8bc7b9d21":{"y":457,"x":634.5},"redis_slave_deployment":{"y":136.9829156771,"x":454.8109404617},"redis_master_deployment":{"y":199.428343349,"x":666.0785828326}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"299b014e_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"d073c180_runbook","main_task_local_reference":{"kind":"app_task","name":"299b014e_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"e177ec1c_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"05aa33f9_runbook","main_task_local_reference":{"kind":"app_task","name":"e177ec1c_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"97095ad7_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"14fd4e78_runbook","main_task_local_reference":{"kind":"app_task","name":"97095ad7_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"8aa1c2ce_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2d854cac_runbook","main_task_local_reference":{"kind":"app_task","name":"8aa1c2ce_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"9418547b_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"4cdabe10_runbook","main_task_local_reference":{"kind":"app_task","name":"9418547b_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"redis_master","port_list":[],"tier":"","container_spec":{"kind":"Deployment","name":"redis_master-@@{calm_application_uuid}@@","apiVersion":"apps\/v1","spec":{"replicas":1,"template":{"spec":{"containers":[{"name":"master","image":"k8s.gcr.io\/redis:e2e","value":"dns","env":[{"name":"GET_HOSTS_FROM"}],"ports":[{"containerPort":6379}],"resources":{"requests":{"cpu":"100m","memory":"100Mi"}}}]},"metadata":{"labels":{"tier":"backend","app":"redis","role":"master"}}},"selector":{"matchLabels":{"tier":"backend","app":"redis","role":"master"}}},"ports":[{"containerPort":6379,"name":"redis"}],"resources":{"requests":{"cpu":"100m","memory":"100Mi"}},"metadata":{"labels":{"app":"redis"},"name":"redis-master"}},"variable_list":[],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"299b014e_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"d073c180_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"299b014e_dag_cloned_1"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"e177ec1c_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"05aa33f9_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"e177ec1c_dag_cloned_1"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"97095ad7_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"14fd4e78_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"97095ad7_dag_cloned_1"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"8aa1c2ce_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2d854cac_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"8aa1c2ce_dag_cloned_1"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"redis_slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"9418547b_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"4cdabe10_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"9418547b_dag_cloned_1"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[{"kind":"app_service","name":"redis_master"}],"name":"redis_slave","port_list":[],"tier":"","container_spec":{"kind":"Deployment","name":"redis_slave-@@{calm_application_uuid}@@","apiVersion":"apps\/v1","spec":{"replicas":1,"template":{"spec":{"containers":[{"name":"slave","image":"gcr.io\/google_samples\/gb-redisslave:v3","value":"dns","env":[{"name":"GET_HOSTS_FROM"}],"ports":[{"containerPort":6379}],"resources":{"requests":{"cpu":"100m","memory":"100Mi"}}}]},"metadata":{"labels":{"tier":"backend","app":"redis","role":"master"}}},"selector":{"matchLabels":{"tier":"backend","app":"redis","role":"slave"}}},"ports":[{"containerPort":6379,"name":"redis"}],"resources":{"requests":{"cpu":"100m","memory":"100Mi"}},"metadata":{"labels":{"app":"redis"},"name":"redis-master"}},"variable_list":[],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"frontend"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"299b014e_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"d073c180_runbook_cloned_1","main_task_local_reference":{"kind":"app_task","name":"299b014e_dag_cloned_1"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"frontend"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"e177ec1c_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"05aa33f9_runbook_cloned_1","main_task_local_reference":{"kind":"app_task","name":"e177ec1c_dag_cloned_1"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"frontend"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"97095ad7_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"14fd4e78_runbook_cloned_1","main_task_local_reference":{"kind":"app_task","name":"97095ad7_dag_cloned_1"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"frontend"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"8aa1c2ce_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2d854cac_runbook_cloned_1","main_task_local_reference":{"kind":"app_task","name":"8aa1c2ce_dag_cloned_1"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"frontend"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"9418547b_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"4cdabe10_runbook_cloned_1","main_task_local_reference":{"kind":"app_task","name":"9418547b_dag_cloned_1"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[{"kind":"app_service","name":"redis_slave"}],"name":"frontend","port_list":[],"tier":"","container_spec":{"kind":"Deployment","name":"frontend-@@{calm_application_uuid}@@","apiVersion":"apps\/v1","spec":{"replicas":1,"template":{"spec":{"containers":[{"name":"master","image":"k8s.gcr.io\/redis:e2e","value":"dns","env":[{"name":"GET_HOSTS_FROM"}],"ports":[{"containerPort":6379}],"resources":{"requests":{"cpu":"100m","memory":"100Mi"}}}]},"metadata":{"labels":{"tier":"backend","app":"redis","role":"master"}}},"selector":{"matchLabels":{"tier":"backend","app":"redis","role":"master"}}},"ports":[{"containerPort":6379,"name":"redis"}],"resources":{"requests":{"cpu":"100m","memory":"100Mi"}},"metadata":{"labels":{"app":"redis"},"name":"redis-master"}},"variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[],"type":"K8S_POD","name":"REDIS_MASTER","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"","delay_secs":"60","disable_readiness_probe":false},"os_type":"Linux","create_spec":{"metadata":{"labels":{"tier":"redis","app":"redis","role":"master","provisioner":"calm"},"namespace":"default","name":"REDIS_MASTER"},"type":"PROVISION_K8S_POD","spec":{"restartPolicy":"Always","dnsPolicy":"Default"},"account_uuid":"3ec10d6d-f992-d999-d22c-f283be2c9f3e"},"variable_list":[]},{"description":"","action_list":[],"type":"K8S_POD","name":"REDIS_SLAVE","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"","delay_secs":"60","disable_readiness_probe":false},"os_type":"Linux","create_spec":{"metadata":{"labels":{"tier":"backend","app":"redis","role":"slave","provisioner":"calm"},"namespace":"default","name":"REDIS_SLAVE"},"type":"PROVISION_K8S_POD","spec":{"restartPolicy":"Always","dnsPolicy":"Default"},"account_uuid":"3ec10d6d-f992-d999-d22c-f283be2c9f3e"},"variable_list":[]},{"description":"","action_list":[],"type":"K8S_POD","name":"FRONTEND","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"","delay_secs":"60","disable_readiness_probe":false},"os_type":"Linux","create_spec":{"metadata":{"labels":{"tier":"frontend","app":"guestbook ","provisioner":"calm"},"namespace":"default","name":"FRONTEND"},"type":"PROVISION_K8S_POD","spec":{"restartPolicy":"Always","dnsPolicy":"Default"},"account_uuid":"3ec10d6d-f992-d999-d22c-f283be2c9f3e"},"variable_list":[]}],"credential_definition_list":[],"package_definition_list":[{"image_spec":{"image":"k8s.gcr.io\/redis:e2e","imagePullPolicy":"IfNotPresent"},"description":"","action_list":[],"type":"K8S_IMAGE","service_local_reference_list":[{"kind":"app_service","name":"redis_master"}],"name":"Package2","version":"","variable_list":[]},{"image_spec":{"image":"gcr.io\/google_samples\/gb-redisslave:v3","imagePullPolicy":"IfNotPresent"},"description":"","action_list":[],"type":"K8S_IMAGE","service_local_reference_list":[{"kind":"app_service","name":"redis_slave"}],"name":"Package2_cloned_0","version":"","variable_list":[]},{"image_spec":{"image":"gcr.io\/google-samples\/gb-frontend:v4","imagePullPolicy":"IfNotPresent"},"description":"","action_list":[],"type":"K8S_IMAGE","service_local_reference_list":[{"kind":"app_service","name":"frontend"}],"name":"Package2_cloned_1","version":"","variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"K8S_DEPLOYMENT","action_list":[],"name":"redis_master_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[{"kind":"app_published_service","name":"redis_master_service"}],"max_replicas":"100","package_local_reference_list":[{"kind":"app_package","name":"Package2"}],"substrate_local_reference":{"kind":"app_substrate","name":"REDIS_MASTER"},"options":{"type":"PROVISION_K8S_DEPLOYMENT","spec":{"replicas":"1","selector":{"matchLabels":{"tier":"backend","app":"redis","role":"master"}}},"metadata":{"labels":{"tier":"backend","app":"redis","provisioner":"calm"},"namespace":"default","name":"redis-master-@@{calm_application_uuid}@@"}},"variable_list":[],"description":""},{"type":"K8S_DEPLOYMENT","action_list":[],"name":"redis_slave_deployment","min_replicas":"2","default_replicas":"2","depends_on_list":[],"published_service_local_reference_list":[{"kind":"app_published_service","name":"redis_slave_service"}],"max_replicas":"100","package_local_reference_list":[{"kind":"app_package","name":"Package2_cloned_0"}],"substrate_local_reference":{"kind":"app_substrate","name":"REDIS_SLAVE"},"options":{"type":"PROVISION_K8S_DEPLOYMENT","spec":{"replicas":"2","selector":{"matchLabels":{"tier":"backend","app":"redis","role":"slave"}}},"metadata":{"labels":{"tier":"backend","app":"redis","provisioner":"calm"},"namespace":"default","name":"redis-slave-@@{calm_application_uuid}@@"}},"variable_list":[],"description":""},{"type":"K8S_DEPLOYMENT","action_list":[],"name":"frontend_deployment","min_replicas":"3","default_replicas":"3","depends_on_list":[],"published_service_local_reference_list":[{"kind":"app_published_service","name":"frontend_service"}],"max_replicas":"100","package_local_reference_list":[{"kind":"app_package","name":"Package2_cloned_1"}],"substrate_local_reference":{"kind":"app_substrate","name":"FRONTEND"},"options":{"type":"PROVISION_K8S_DEPLOYMENT","spec":{"replicas":"3","selector":{"matchLabels":{"tier":"frontend","app":"guestbook"}}},"metadata":{"labels":{"tier":"frontend","app":"guestbook","provisioner":"calm"},"namespace":"default","name":"frontend-@@{calm_application_uuid}@@"}},"variable_list":[],"description":""}],"description":"","action_list":[],"name":"Default","variable_list":[]}],"published_service_definition_list":[{"singleton":true,"action_list":[],"type":"K8S_SERVICE","depends_on_list":[],"name":"redis_master_service","port_list":[],"tier":"","options":{"type":"PROVISION_K8S_SERVICE","spec":{"ports":[{"targetPort":6379,"protocol":"TCP","name":"redis","port":6379}],"selector":{"tier":"backend","app":"redis","role":"master"}},"metadata":{"labels":{"tier":"backend","app":"redis","role":"master","provisioner":"calm"},"namespace":"default","name":"redis-master-service-@@{calm_application_uuid}@@"}},"variable_list":[],"description":""},{"singleton":true,"action_list":[],"type":"K8S_SERVICE","depends_on_list":[],"name":"redis_slave_service","port_list":[],"tier":"","options":{"type":"PROVISION_K8S_SERVICE","spec":{"ports":[{"targetPort":6379,"protocol":"TCP","name":"redis","port":6379}],"selector":{"tier":"backend","app":"redis","role":"slave"}},"metadata":{"labels":{"tier":"backend","app":"redis","role":"slave","provisioner":"calm"},"namespace":"default","name":"redis-slave-service-@@{calm_application_uuid}@@"}},"variable_list":[],"description":""},{"singleton":true,"action_list":[],"type":"K8S_SERVICE","depends_on_list":[],"name":"frontend_service","port_list":[],"tier":"","options":{"type":"PROVISION_K8S_SERVICE","spec":{"type":"LoadBalancer","ports":[{"targetPort":80,"protocol":"TCP","name":"frontend","port":80}],"selector":{"tier":"frontend","app":"guestbook"}},"metadata":{"labels":{"tier":"frontend","app":"guestbook","provisioner":"calm"},"namespace":"default","name":"frontend-service-@@{calm_application_uuid}@@"}},"variable_list":[],"description":""}],"type":"USER"},"name":"PHP Guestbook"},"api_version":"3.0","metadata":{"last_update_time":"1586813882402297","kind":"blueprint","spec_version":11,"creation_time":"1586811616605673","name":"PHP Guestbook"}}